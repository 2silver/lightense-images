/*! lightense-images v1.0.0 | Â© Tunghsiao Liu | MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lightense=t():e.Lightense=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";var n=function(){function e(e){var n=e.length;if(n)for(var i=0;n>i;i++)t(e[i]);else t(e)}function t(e){var t=e.getAttribute("data-image")||e.src;t&&(e.classList.add("lightense-target"),e.addEventListener("click",function(e){return e.metaKey||e.ctrlKey?g.open(t,"_blank"):void c(this)},!1))}function n(){var e="\n      .lightense-backdrop {\n        box-sizing: border-box;\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        top: 0;\n        left: 0;\n        overflow: hidden;\n        z-index: "+(m.zIndex-1)+";\n        padding: 0;\n        margin: 0;\n        transition: opacity "+m.time+"ms ease;\n        cursor: zoom-out;\n        opacity: 0;\n        background-color: rgba(255, 255, 255, .98);\n        visibility: hidden;\n      }\n\n      @supports (-webkit-backdrop-filter: blur(30px)) {\n        .lightense-backdrop {\n          background-color: rgba(255, 255, 255, .6);\n          -webkit-backdrop-filter: blur(30px);\n          backdrop-filter: blur(30px);\n        }\n      }\n\n      .lightense-wrap {\n        position: relative;\n        transition: transform "+m.time+"ms "+m.cubicBezier+";\n        z-index: "+m.zIndex+";\n        -webkit-user-select: none;\n        user-select: none;\n      }\n\n      .lightense-target {\n        cursor: zoom-in;\n        transition: transform "+m.time+"ms "+m.cubicBezier+";\n      }\n\n      .lightense-open {\n        cursor: zoom-out;\n      }\n\n      .lightense-transitioning {\n        pointer-events: none;\n      }\n    ",t=f.head||f.getElementsByTagName("head")[0],n=f.createElement("style");n.styleSheet?n.styleSheet.cssText=e:n.appendChild(f.createTextNode(e)),t.appendChild(n)}function i(){m.container=f.createElement("div"),m.container.className="lightense-backdrop",f.body.appendChild(m.container)}function r(e){var t=e.width,n=e.height,i=g.pageYOffset||f.documentElement.scrollTop||0,r=g.pageXOffset||f.documentElement.scrollLeft||0,o=m.target.getBoundingClientRect(),a=t/o.width,s=g.innerWidth||f.documentElement.clientWidth||0,c=g.innerHeight||f.documentElement.clientHeight||0,l=s-m.padding,d=c-m.padding,u=t/n,p=l/d;l>t&&d>n?m.scaleFactor=a:p>u?m.scaleFactor=d/n*a:m.scaleFactor=l/t*a;var h=s/2,b=i+c/2,v=o.left+r+o.width/2,y=o.top+i+o.height/2;m.translateX=h-v,m.translateY=b-y}function o(){m.target.classList.add("lightense-open"),m.wrap=f.createElement("div"),m.wrap.className="lightense-wrap",setTimeout(function(){m.target.style.transform="scale("+m.scaleFactor+")"}),m.target.parentNode.insertBefore(m.wrap,m.target),m.wrap.appendChild(m.target),setTimeout(function(){m.wrap.style.transform="translate3d("+m.translateX+"px, "+m.translateY+"px, 0)"}),m.background&&(m.container.style.backgroundColor=m.background),m.container.style.visibility="visible",setTimeout(function(){m.container.style.opacity="1"})}function a(){d(),m.target.classList.remove("lightense-open"),m.wrap.style.transform="",m.target.style.transform="",m.target.classList.add("lightense-transitioning"),m.container.style.opacity="",setTimeout(function(){m.container.style.visibility="",m.container.style.backgroundColor="",m.wrap.parentNode.replaceChild(m.target,m.wrap),m.target.classList.remove("lightense-transitioning")},m.time)}function s(){var e=Math.abs(m.scrollY-g.scrollY);e>=30&&a()}function c(e){if(m.target=e,m.target.classList.contains("lightense-open"))return a();m.scrollY=g.scrollY,m.src=e.getAttribute("data-image")||e.src,m.background=m.target.getAttribute("data-background")||!1;var t=new Image;t.onload=function(){r(this),o(),l()},t.src=m.src}function l(){g.addEventListener("keyup",u,!1),g.addEventListener("scroll",s,!1),m.container.addEventListener("click",a,!1)}function d(){g.removeEventListener("keyup",u,!1),g.removeEventListener("scroll",s,!1),m.container.removeEventListener("click",a,!1)}function u(e){e.preventDefault(),27===e.keyCode&&a()}function p(t,r){if(!t)throw"You need to pass an element!";var o=r||{};o.time&&(m.time=o.time),n(),i(),e(t)}var g=window,f=document,m={time:300,padding:40,cubicBezier:"cubic-bezier(.2, 0, .1, 1)",zIndex:2147483647};return p}();e.exports=n}])});